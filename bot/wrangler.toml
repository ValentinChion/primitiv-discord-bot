name = "primitiv-discord-bot"
main = "src/index.ts"
compatibility_date = "2024-11-01"
compatibility_flags = ["nodejs_compat"]

# Environment variables (secrets should be set via `wrangler secret put`)
# DISCORD_TOKEN - Bot token from Discord Developer Portal
# DISCORD_PUBLIC_KEY - Public key for verifying requests
# DISCORD_APPLICATION_ID - Application ID from Discord
# DATABASE_URL - Prisma Accelerate connection string (required for Prisma on Workers)
# GOOGLE_DRIVE_FOLDER_ID - Google Drive folder ID for invoice uploads
# GOOGLE_SERVICE_ACCOUNT_EMAIL - Service account email
# GOOGLE_PRIVATE_KEY - Service account private key
# TRESORIER_ID - Discord user ID of treasurer

[observability]
enabled = true

# Scheduled trigger for daily report generation
# Runs every day at 9:00 AM UTC
[triggers]
crons = ["0 9 * * *"]
